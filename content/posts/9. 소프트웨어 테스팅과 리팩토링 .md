---
title: 9. 소프트웨어 테스팅과 리팩토링
date: 2025-10-09
draft: false
tags:
  - topcit
cover:
  image: ""
  alt:
  caption:
---


## 01 테스팅 개념 및 프로세스 
### 1. 테스팅 개념 및 일반적인 원리

**가) 테스팅 개념**

테스팅은 **시스템의 동작, 성능, 안정성**이 사용자나 고객이 요구하는 수준을 만족하는지 **확인하거나 검증**하기 위해 **결함을 발견하는 활동**을 의미합니다.

**나) 테스팅의 일반적인 원리**

성공적인 테스팅을 위해 이해해야 할 6가지 일반적인 원리가 있습니다:

1. **결함의 존재를 밝히는 활동:** 테스팅 활동은 결함이 존재한다는 것을 밝히는 활동이지, **결함의 부재를 증명하는 것은 불가능**합니다.
2. **완벽한 테스팅은 불가능:** 아무리 간단한 프로그램이라도 모든 경우에 대해 테스트를 하는 것은 불가능합니다.
3. **테스팅은 개발 초기부터 시작:** 테스팅은 개발 초기부터 시작되어야 하며, 이는 개발 기간을 단축하고 예방 활동을 병행하여 궁극적으로 **비용 감소로** 이어집니다.
4. **살충제 패러독스 (Pesticide Paradox):** 동일한 테스트 케이스를 계속 반복하면 내성이 생겨 더 이상 효과를 발휘하지 못하는 것과 마찬가지로, 반복된 테스트로는 **더 이상 새로운 버그를 찾아내지 못한다**는 원리입니다.
5. **테스팅은 정황(Context)에 의존적:** 테스팅은 프로젝트의 정황에 의존적이며, 각 프로젝트마다 접근하는 방법이 우선순위와 심도에 따라 달라집니다.
6. **오류-부재의 궤변:** 개발된 시스템이 사용자의 필요와 요구에 부합하지 못한 엉뚱한 산출물이라면, 결함을 찾고 수정하는 활동은 아무런 의미가 없다는 원리입니다.

### 2. 테스팅 프로세스

테스팅은 다양한 구성 요소를 포함하는 프로세스를 중심으로 조정되고 관리되어야 하며, 이 프로세스는 네 가지 주요 활동으로 구분됩니다:

|프로세스|주요 활동|
|:--|:--|
|**테스트 계획 및 통제**|테스트 목적/목표 설정, 인력/환경/도구 확보, **테스트 베이시스 검토**, 위험 분석 및 대응|
|**테스트 분석 및 설계**|테스트 베이시스 검토, 테스트 조건 식별, **테스트 케이스 개발**, 테스트 환경 구축|
|**테스트 구현 및 실행**|테스트 명세서 우선순위 선정, 테스트 수행 및 결과 기록, **결함 보고**|
|**완료 조건의 평가 및 리포팅**|완료 조건의 달성 여부 확인, **최종 테스트 보고서 보관**, 테스트 결과 보관|
|**테스트 마감 활동**|테스트 자산 보존, 테스트 프로세스 평가|

### 3. 테스트 설계 및 테스트 케이스 구성

테스트 프로세스의 핵심 결과물인 **테스트 케이스**는 테스트 실행의 기준이 됩니다.

- **테스트 설계 목표:** 테스트 설계를 통해 테스트 케이스를 도출하고 실행하여, 테스트 대상이 충분한 수준의 테스팅이 되었음을 보장합니다.
- **테스트 케이스 구성 요소:** 테스트 케이스는 **입력 값, 실행 사전 조건, 수행 절차, 기대 결과, 실행 후 조건**등으로 구성되어 특정 테스트 조건을 확인하기 위해 작성됩니다 [203, 표 29].
- **테스트 설계 기법 분류:** 테스트 설계 기법은 테스트 베이시스(Test Basis)를 어느 정도 참조했는지에 따라 **명세 기반 기법, 구조 기반 기법, 경험 기반 기법**으로 분류할 수 있습니다. 이 분류는 이어지는 **02 테스팅 유형 및 기법**에서 더 상세히 다루어지며, 테스팅의 전략적 수행을 위한 기반을 마련합니다.


---

## 02 테스팅 유형 및 기법 
### 1. 테스트 유형 (Testing Types): 개발 단계별 활동

테스팅은 개발 단계에 따라 그 초점과 수행 주체가 달라지며, 이를 **테스트 레벨**이라고 합니다. 주요 테스트 유형(레벨)은 다음과 같습니다.

| 테스트 유형      | 목적 및 목표                        | 수행 주체           | 환경                |
| :---------- | :----------------------------- | :-------------- | :---------------- |
| **단위 테스트**  | 개발 모듈 내부의 결함 확인                | 개발 조직 또는 테스트 조직 | 개발 환경             |
| **통합 테스트**  | 모듈 간 인터페이스에서의 결함 발견            | 개발 조직 또는 테스트 조직 | 개발 환경 또는 테스트 환경   |
| **시스템 테스트** | 시스템 기능과 환경, 비기능 요구사항 확인        | 테스트 조직          | 실제 사용자 환경과 유사한 환경 |
| **인수 테스트**  | 사용자 요구사항과 일치 확인 (고객의 요구 충족 확인) | 사용자             | 사용자 환경            |

이러한 테스트 레벨들은 소프트웨어 개발 생명주기(SDLC) 전반에 걸쳐 결함을 조기에 발견하고 검증하는 데 필수적이며, 특히 인수 테스트는 시스템이 사용자의 요구 수준을 만족하는지 확인하는 최종 단계 역할을 합니다.

### 2. 테스팅 기법 (Testing Techniques): 관점 기반 분석

테스팅 기법은 테스트 케이스를 설계하고 실행하는 방법을 다루며, 이는 시스템의 **내부 구조를 보느냐(화이트박스)** 아니면 **명세만을 보느냐(블랙박스)**에 따라 크게 나뉩니다.

#### 가) 화이트박스 테스팅 (White Box Testing)

화이트박스 테스팅은 **코드 기반 테스트**라고도 불립니다.

- **정의:** 소프트웨어 내부를 들여다보며(투명한 박스로 간주), 소스 코드를 활용하여 **제어 흐름(Control Flow), 자료 흐름(Data Flow), 조건/결정(Condition/Decision)** 등의 내부 로직을 검증하는 기법입니다.
- **목적:** 개발팀에서 주로 사용하며, 테스트 대상이 되는 소프트웨어(모듈, 객체, 클래스 등) 내부 결함을 확인하고, 소스 코드를 활용하여 **테스트 커버리지**를 측정하는 데 중점을 둡니다.
- **대표 기법:**
    - **구조적 기법:** 프로그램의 논리적인 복잡도를 측정하여 평가하는 방식.
    - **루프 테스트:** 프로그램 루프 구조에 제한하여 실시하는 방법.

#### 나) 블랙박스 테스팅 (Black Box Testing)

블랙박스 테스팅은 시스템의 내부 구조를 전혀 알지 못하고 **기능이나 명세만을 보고 테스트**하는 기법입니다.

- **정의:** 소프트웨어를 블랙박스처럼 간주하고, 기술적 요구사항이 아닌 사용자 요구사항 명세만을 기반으로 기능, 성능, 보안, 가용성 등 **비기능적 요구사항**을 검증합니다.
- **용도:** 개발된 소프트웨어가 사용자 요구사항에 충실하게 작동하는지 확인하는 데 적절하며, 주로 **시스템 테스트나 인수 테스트** 수준에서 수행됩니다.
- **대표 기법 (명세 기반 기법에 포함됨):**
    - **동등 분할 (Equivalence Partitioning):** 다양한 입력 값의 범위를 동등한 영역으로 나누고 각 영역의 대표 값으로 테스트 케이스를 설계하여 중복을 줄이고 결함 발견율을 높입니다.
    - **경계값 분석 (Boundary Value Analysis):** 입력 값이나 출력 값의 경계에 해당하거나 최소/최대 값이 되는 지점에서 오류 발견 확률이 높기 때문에 이 경계 값을 위주로 테스트합니다.
    - **원인/결과 그래프 기법 (Cause-Effect Graphing):** 입력 값이 출력에 미치는 영향을 논리적으로 표현하여 테스트 케이스를 만듭니다.
    - **오류 예측 기법 (Error Guessing):** 경험적 지식을 바탕으로 입력 값이나 실행 이전에 오류를 포함할 수 있는 블랙박스에 집중하는 기법.

---
## 03 리팩토링 
### 1. 리팩토링 개념 및 목표

**가) 리팩토링 개념**

**리팩토링(Refactoring)** 이란 소프트웨어의 **외부에서 보는 동작은 변경하지 않고** 프로그램의 내부 구조를 개선하는 활동을 의미합니다,. 즉, 소프트웨어의 **외부적인 수정은 없으면서** 내부 구조 및 설계를 단순화하여 소프트웨어의 **유지보수성을 향상**시키고 품질을 높이는 것을 목표로 합니다,.

리팩토링을 수행할 때 반드시 지켜야 할 원칙은 **외부에서 보는 프로그램의 동작이 변경되지 않도록** 하는 것입니다,.

**나) 리팩토링의 필요성 및 기대 효과**

리팩토링은 단순히 코드를 정리하는 것을 넘어, 다음과 같은 이유로 수행됩니다:

- **오류 발견 및 디버깅 용이:** 복잡도가 줄어들어 오류를 찾고 수정하는 것이 쉬워집니다,.
- **요구사항 변화 대응:** 프로그램 요구사항 변경에 효과적으로 대응할 수 있게 됩니다,.
- **가독성 향상:** 복잡한 코드의 단순화와 소스 코드의 가독성을 향상시킵니다,.
- **생산성 및 품질 향상:** 장기적으로 프로그램 생산성과 품질 향상에 기여합니다,.

### 2. 코드 스멜 (Code Smell): 리팩토링의 대상

리팩토링은 프로그램이 제대로 설계되지 않아 개발자가 이해하거나 유지보수하기 어렵거나,, 확장하기 어렵다고 느껴지는 부분을 대상으로 합니다,. 이러한 문제의 징후를 **코드 스멜(Code Smell)** 이라고 정의합니다,.

코드 스멜의 주요 종류에는 다음과 같은 것들이 포함됩니다:

- **중복된 코드(Duplicated Code):** 기능이나 데이터가 중복되어 작성된 경우,.
- **긴 메서드(Long Method):** 한 메서드 내부에 너무 많은 로직과 명령이 존재하는 경우,.
- **너무 큰 클래스(Large Class):** 클래스에 너무 많은 기능과 멤버가 존재하는 경우,.
- **산발적 수정(Shotgun Surgery):** 하나의 기능을 수정하기 위해 여러 클래스를 동시다발적으로 수정해야 하는 경우,.
- **데이터 뭉치(Data Clumps):** 여러 클래스에서 항상 함께 다뤄지는 데이터가 존재하는 경우,.

### 3. IX. 테스팅과의 연관성 및 수행 절차

리팩토링은 IX. 소프트웨어 테스팅의 안전망 없이는 위험한 활동이 될 수 있습니다. **테스팅(01, 02)은 리팩토링 활동의 성공을 검증하는 필수 절차**입니다.

**가) 리팩토링 시점 및 원리**

- 리팩토링은 코드를 처음 작성할 때, 두 번째나 세 번째 비슷한 작업을 할 때, 또는 코드가 비효율적이거나 추가할 기능이 많지 않은 형태의 변경이 발생했을 때 진행할 수 있습니다,.
- 리팩토링은 일반적으로 **소규모 변경(단위 리팩토링)을 수행한 후 테스트를 적용**하고 다음 리팩토링 단계로 전진하는 방식으로 진행됩니다,.
- 적용하기 어려운 부분은 리팩토링 후에 **되돌리기(Undo) 시스템**이 적용되도록 유지해야 합니다,.

**나) 리팩토링 수행 절차**

리팩토링 수행 시 테스트는 중요한 단계로 포함됩니다.

|대상 선정|조직 구성|수행 절차|테스트|결과 정리|
|:--|:--|:--|:--|:--|
|코드 스멜, 잠재적 위험, XP 방법론 적용|역할, 책임의 선임자 및 복합 구성|변경 관리, OCB 통제|**다/통합 테스트, 회귀 테스트**|문서화, 실행 시스템 적용|


### 4. 대표적인 리팩토링 기법

리팩토링은 목적에 따라 다양한 기법을 사용하며, 코딩 단계에서 코드 스멜을 제거하고 품질을 높입니다.

|범주|리팩토링 기법|설명|
|:--|:--|:--|
|**메서드 정리**|Extract Method|그룹으로 함께 묶을 수 있는 코드 조각이 있을 때 메서드를 추출.|
|**기능 이동**|Extract Class|클래스가 해야 할 일보다 더 많은 기능을 가질 때 새로운 클래스를 만들어 일부 기능을 옮김.|
|**이름 변경**|Rename Method|메서드나 변수의 본질을 명확히 전달하도록 이름을 변경.|
|**추상화/일반화**|Collapse Hierarchy|상위 클래스와 하위 클래스가 크게 다르지 않다면 통합.|
|**중복**|Replace Magic Number with Symbolic Constant|특별한 의미를 지니는 숫자를 상수로 대체하여 가독성을 높임,.|

결론적으로, 리팩토링은 IX. 소프트웨어 테스팅과 리팩토링에서 **코드의 내부 품질을 개선**하고 **유지보수 비용을 절감**하는 데 핵심적인 역할을 하며, 리팩토링 전후에 **테스팅(단위, 회귀 테스트)** 을 통해 외부 동작 불변성을 검증받아야만 안전하게 진행될 수 있습니다. 

---

### Quiz 
소프트웨어의 결함을 찾기 위해 시스템을 실행하고 동작을 확인하는 활동을 무엇이라고 하나요? - 소프트웨어 테스팅 

동일한 테스트 케이스를 반복적으로 실행하면 더 이상 새로운 결함을 발견하지 못하게 된다는 테스팅의 원리는 무엇인가요?  - 살충제 패러독스 (Pesticide Paradox)

프로그램의 내부 구조나 소스 코드를 보면서 테스트 케이스를 설계하는 테스트 기법은 무엇인가요? - 화이트 박스 테스팅 

프로그램의 내부 구조는 고려하지 않고, 요구사항 명세서를 기반으로 기능이 올바르게 동작하는지 확인하는 테스트 기법은 무엇인가요? - 블랙박스 테스팅 

소프트웨어의 가장 작은 단위인 모듈이나 함수를 개별적으로 테스트하는 것을 무엇이라고 하나요? - 단위 테스트 (Unit Test)

단위 테스트를 통과한 모듈들을 결합하여 상호작용에 문제가 없는지 확인하는 테스트는 무엇인가요? - 통합 테스트 ( Integration Test)

통합된 소프트웨어 전체가 요구사항을 만족하는지 확인하는 테스트는 무엇인가요? - 시스템 테스트 

소프트웨어의 겉으로 드러나는 동작은 바꾸지 않으면서, 내부 구조를 개선하여 가독성을 높이고 유지보수를 용이하게 만드는 활동은 무엇인가요? - 리팩토링 



